# فاز دیپلوی!

> **توجه داشته باشید** که قسمت های پیش رو ممکن هست کمی سخت به نظر برسد. یکی از مهم ترین قسمت های توسعه وب سایت, دیپلوی می باشد. این فصل در وسط آموزش قرار گرفته است، به طوری که مربی شما می تواند با فرایند بسیار پیچیده ای که وب سایت شما را آنلاین می کند کمک کند. این به این معنی است که شما هنوز هم می توانید آموزش خود را به اتمام برسانید اگر زمان کمتری اجرا شود.

تا به حال، وب سایت شما فقط در رایانه شما موجود است. حالا شما یاد خواهید گرفت که چگونه آن را بکار ببندید! استقرار فرآیند انتشار برنامه شما در اینترنت است تا مردم بتوانند در نهایت برنامه خود را ببینند. :)

همانطور که یاد گرفتید، یک وب سایت باید بر روی یک سرور واقع شود. سرویس دهنده های زیادی در اینترنت وجود دارد، ما قصد داریم از  هرکجا پایتون </ 0> استفاده کنیم. هرکجا پایتون رایگان برای برنامه های کوچک است که بازدید کنندگان بیش از حد ندارد بنابراین قطعا به اندازه کافی برای شما در حال حاضر.</p> 

سرویس دیگر خارجی که ما استفاده می کنیم  گیت هاب</ 0> است که سرویس میزبانی کد است. دیگران وجود دارد، اما تقریبا همه برنامه نویسان این روزها حساب گیت هاب دارند و حالا هم همینطور است!</p> 

این سه مکان برای شما مهم خواهد بود. کامپیوتر محلی شما جایی است که شما در حال توسعه و آزمایش هستید. هنگامی که شما با تغییرات راضی هستید، یک نسخه از برنامه خود را در گیت هاب قرار دهید. وب سایت شما در هرکجا پایتون خواهد بود و شما آن را با دریافت یک کپی جدید از کد خود را از گیت هاب به روز رسانی کنید.

# گیت

> ** نکته </ 0> اگر قبلا مراحل نصب را انجام دادید نیازی به انجام این کار وجود ندارد - شما می توانید به بخش بعدی بروید و شروع به ایجاد مخزن گیت کنید.</p> </blockquote> 
> 
> % include "/deploy/install_git.md" %}}
> 
> ## شروع به مخزن گیت هاب ذما
> 
> آهنگ گیت هاب تغییرات به یک مجموعه خاص از فایل ها در آنچه که مخزن کد (یا "repo" برای کوتاه) نامیده می شود. بیایید یک پروژه را برای شروع بگذاریم. کنسول خود را باز کنید و این دستورات را در دایرکتوری ` دختران جنگجو</ 0> اجرا کنید:</p>

<blockquote>
  <p><strong> توجه </ 0> قبل از مقداردهی مجدد مخزن، دستورالعمل فعلی کار خود را با دستور <code> pwd </ 1> (سیستم عامل Mac OS X / Linux) یا <code> cd </ 1> (ویندوز) بررسی کنید. شما باید در پوشه <code> دختران جنگجو</ 0> باشد.</p>
</blockquote>

<p>% filename %}}خط فرمان% endfilename %}}</p>

<pre><code>$ گیت اینت
مخزن گیت هاب خالی را در ~ / دختران جنگجو /.git /
$پیکربندی - کاربر جهانی.نام "نام شما"
$ پیکربندی - ایمیل.کاربر جهانی شما@برای مثال.com
`</pre> 
> 
> ابتدایی مخزن git چیزی است که ما فقط باید یک بار در هر پروژه انجام دهیم (و مجبور نیستید مجددا نام کاربری را دوباره وارد کنید و دوباره ایمیل کنید).
> 
> گیت هاب تغییرات را به تمام فایل ها و پوشه ها در این پوشه پیگیری می کند، اما برخی از فایل هایی که می خواهیم آن را نادیده بگیریم وجود دارد. ما این کار را با ایجاد یک فایل به نام `.رد کردن گیت هاب </ 0> در دایرکتوری پایه انجام می دهیم. ویرایشگر خود را باز کنید و یک فایل جدید با مطالب زیر ایجاد کنید:</p>

<p>{% filename %}.ردکردن گیت{% endfilename %}</p>

<pre><code>*.pyc
*~
__pycache__
myvenv
db.sqlite3
/static
.DS_Store
`</pre> 
> 
> و در پوشه "دختران جنگجو" آن را `.ردکردن گیت </ 0> ذخیره کنید.</p>

<blockquote>
  <p><strong> توجه </ 0> نقطه در ابتدای نام فایل مهم است!  اگر مشکلی در ایجاد آن دارید (به عنوان مثال مکینتاش شما را دوست ندارد فایل هایی را ایجاد کنید که از طریق یاب شروع می شود)، سپس از ویژگی ذخیره در استفاده کنید در ویرایشگر خود. آن ضد گلوله است.</p>
  
  <p><strong> توجه </ 0> یکی از فایل هایی که در فایل <code>.ردکردن گیت </ 1> مشخص شده است <code> db.sqlite3 </ 1> است. این فایل پایگاه داده محلی شما است، که همه پست های شما ذخیره می شود. ما نمی خواهیم این را به مخزن خود اضافه کنیم؛ زیرا وب سایت شما در هرجا پایتون از یک پایگاه داده متفاوت استفاده می کند.  این پایگاه داده می تواند اسکیولایت مانند دستگاه توسعه خود باشد، اما معمولا شما از یک مای اسکیوال استفاده می کنید که می تواند با بازدیدکنندگان سایت بسیار بیشتر از اسکیولایت مقابله کند. در هر صورت، با نادیده گرفتن پایگاه داده اسکیولایت خود برای نسخه گیت هاب، این بدان معنی است که همه پستهایی که تا کنون ایجاد کرده اید، ماندگار میشوند و فقط در محلی در دسترس هستند، اما شما مجبورید آنها را دوباره در تولید اضافه کنید. شما باید از پایگاه داده محلی خود به عنوان یک زمین بازی خوب که در آن شما می توانید چیزهای مختلف را آزمایش کنید و نگران نباشید که شما قصد ارسال پست واقعی خود را از وبلاگ خود را دارید، فکر کنید.</p>
</blockquote>

<p>ایده خوبی است برای استفاده از دستور <code> وضعیت گیت </ 0> قبل از اینکه <code> گیت اضافه </ 0> یا هر زمان که خودتان مطمئن نیستید از چه چیزی تغییر کرده اید. این به جلوگیری از هر گونه شگفتی از اتفاق می افتد، مانند فایل های اشتباه اضافه شده یا مرتکب می شوند. دستور <code> وضعیت گیت </ 0> اطلاعاتی را در مورد هر گونه فایل های غیر قابل شناسایی / تغییر یافته / مرتب شده، وضعیت شاخه و موارد دیگر باز می گرداند. خروجی باید شبیه به موارد زیر باشد:</p>

<p>% filename %}}خط فرمان% endfilename %}}</p>

<pre><code>وضعیت $ گیت
در شاخه کارشناسی ارشد

تعهد اولیه

فایل های غیرقابل پیگیری:
   (استفاده از "گیت اضافه کردن <file> ..." برای شامل در آنچه متعهد خواهد شد)

         .ردکردن گیت
         وبلاگ/
         مدیریت.py
         مکان من/

هیچ چیز اضافه نشده به مرتکب شدن اما فایل های غیرقابل مشاهده موجود (استفاده از "git add" برای ردیابی)
`</pre> 
> 
> و در نهایت ما تغییرات ما را ذخیره می کنیم. به کنسول خود بروید و این دستورات را اجرا کنید:
> 
> % filename %}}خط فرمان %endfilename %}}
> 
>     $همه گیت --همه .
>     $فرمان گیت -m "برنامه دیجانگو دختران من، برای اولین بار متعهد"
>       [...]
>       13 فایل تغییر کرده است، 200 درج (+)
>       ایجاد حالت 100644. ردکردن گیت
>       [...]
>       ایجاد حالت 100644 سایت من / wsgi.py
>       `` `
>     
>     
>     ## فشار دادن کد خود به گیت هاب
>     
>     به [GitHub.com] بروید (https://www.github.com) و ثبت نام کنید تا یک حساب کاربری جدید رایگان ایجاد کنید. (اگر قبلا این کار را در آمادگی کارگاه انجام دادید، این عالی است!)
>     
>     سپس یک مخزن جدید ایجاد کنید، آن را به نام "my-first-blog" بدهید. از کادر انتخاب "مقداردهی اولیه با من را بخوان" را بدون علامت چک کنید، گزینه ".ردکردن گیت" را خالی بگذارید (ما این کار را به صورت دستی انجام داده ایم) و مجوز را به عنوان هیچ می گذاریم.
>     
>     <0 />
>     
>     & gt؛ ** نکته ** نام 'اولین وبلاگ من` مهم است - شما می توانید چیزی دیگری را انتخاب کنید، اما در دستورالعمل های زیر بارها اتفاق می افتد و شما باید هر بار آن را جایگزین کنید. این احتمالا ساده تر است که فقط با نام "اولین وبلاگ من" قرار بگیرد.
>     
>     در صفحه بعد، آدرس اینترنتی کلون ریپو شما نشان داده می شود. نسخه "HTTPS" را انتخاب کنید، آن را کپی کنید و مدت کوتاهی آن را در ترمینال قرار می دهیم:
>     
>     <0 />
>     
>     حالا ما باید مخزن Git را بر روی رایانه خود بسازیم تا در گیت هاب یکپارچه شود.
>     
>     زیر را در کنسول خود بنویسید (با نام کاربری که در هنگام ایجاد حساب GitHub خود وارد کردید، جایگزین `&lt;your-github-username&gt; 'با نام کاربری خود وارد کنید، اما بدون زاویه مطابق):
>     
>     % filename %}}خط فرمان% endfilename %}}
>     
> 
> $ گیت از راه دور منشا اضافه کنیدhttps://github.com/<your-github-username>/اولین وبلاگ من.گیت $ فشار گیت -u اصلی استاد
> 
>     <br />نام کاربری و رمز عبور GitHub خود را وارد کنید و باید چیزی شبیه به این را ببینید:
>     
>     {٪ filename٪} خط فرمان {٪ endfilename٪}
>     
> 
> نام کاربری برای 'https://github.com': hjwp رمز عبور برای 'https: //hjwp@github.com': شمارش اشیاء: 6، انجام شده است. نوشتن اشیاء: 100٪ (6/6)، 200 بایت | 0 بایت / ثانیه، انجام شده است. مجموع 3 (دلتا 0)، استفاده مجدد 0 (دلتا 0) برای https://github.com/hjwp/my-first-blog.git
> 
> - [شاخه جدید] استاد -> استاد کارشناسی ارشد برای راه انداختن استاد شاخه از راه دور از مبدأ تنظیم شده است.
> 
>     <br />& lt؛! - TODO: ممکن است کلیدهای SSH در حزب نصب نصب شود و نقطه PPL که آن را به یک پسوند نرسیده است - & gt؛
>     
>     کد شما در حال حاضر در GitHub است. برو و بررسیش کن!  شما این را در شرکت خوبی خواهید یافت - [جانگاو] (https://github.com/django/django)، [دختران آموزش یونانی] (https://github.com/DjangoGirls/tutorial) و بسیاری دیگر از بزرگ پروژه های نرم افزاری منبع باز نیز کد خود را در GitHub میزبانی می کنند. :)
>     
>     
>     # راه اندازی وبلاگ ما در هرکجا پایتون
>     
>     & gt؛ ** توجه داشته باشید ** شما ممکن است قبلا یک حساب هرکجا پایتون قبل از مراحل نصب نصب کرده باشید - در صورت لزوم، نیازی به انجام آن دوباره نیست.
>     
>     {٪ include "/deploy/signup_pythonanywhere.md"٪}
>     
>     
>     ## کشیدن کد ما را در هرکچا پایتون
>     
>     هنگامی که شما برای هرکچا پایتون ثبت نام کرده اید، به صفحه داشبورد یا صفحه کنسول خود منتقل خواهید شد. گزینه ای برای راه اندازی یک کنسول باش را انتخاب کنید - این نسخه هرکجا پایتون یک کنسول است، درست همانند یک رایانه.
>     
>     <0 />
>     
>     & gt؛ ** توجه داشته باشید ** هرکجا پایتون بر روی لینوکس است، بنابراین اگر شما در ویندوز هستید، کنسول کمی کمی متفاوت با رایانه شما خواهد بود.
>     
>     بیایید کد ما را از گیت هاب و به هرکجا پایتون بکشیم، با ایجاد "کلون" از مخزن ما. زیر را در console در هرکجا پایتون بنویسید (فراموش نکنید که از نام کاربری گیت هاب خود به جای `` 0> `استفاده کنید):
>     
>     ٪ filename٪}} خط فرمان هرکجا پایتون ٪ endfilename٪}}
>     
> 
> کلون $ گیت https://github.com/<your-github-username>/اولین وبلاگ من.گیت
> 
>     <br />این یک کپی از کد شما را در هرکجا پایتون کشف می کند. با تایپ کردن «درخت اول من-وبلاگ»، آن را چک کنید
>     
>     filename٪}} خط فرمان هرکجا پایتون% endfilename٪}}
>     
> 
> $ اولین وبلاگ من اولین وبلاگ من / ├── وبلاگ │ ├── ** اینت </ 0>.py │ ├── مدیر.py │ ├── مهاجرت │ │ ├── 0001_اولیه.py │ │ └── ** اینت </ 0>.py │ ├── مدل.py │ ├── تستها.py │ └──نمایشها.py ├── مدیریت.py └─────────────      ├── ** init </ 0>.py      ├── تنظیمات.py      ├── urls.py      └──wsgi.py</p> 
> 
>     <br /><br />### ایجاد مجازی مجازی در هرکجا پایتون
>     
>     درست همانطور که در رایانه خودتان انجام دادید، می توانید یک مجله مجازی در هرکجا پایتون ایجاد کنید. در کنسول باش تایپ کنید:
>     
>     ٪ filename٪}}خط فرمان هرکجا پایتون٪ endfilename٪}}
>     
> 
> $ سی دی اولین وبلاگ من
> 
> $ مجازی--پایتون= پایتون3.6 myvenv virtualenv در حال اجرا با مترجم /usr/bin/پایتون3.6 [...] نصب ابزار نصب، pip... انجام شد.
> 
> $ myvenv / bin / فعال شد
> 
> (مای ون) $ pip نصب جنگجو~ = 1.11.0 جمع آوری جانگاو [...] موفق به نصب جنگجو -1.11.3 شد
> 
>     <br /><br />& gt؛ ** نکته ** مرحله `پیپ نصب` می تواند چند دقیقه طول بکشد.  صبر، صبر و شکیبایی!  اما اگر بیش از پنج دقیقه طول بکشد، چیزی اشتباه است.  از مربی خود بپرسید.
>     
>     & lt؛! - انجام دادن: فکر کردن در مورد استفاده از الزامات.متنی به جای نصب pip.-- & gt؛
>     
>     ### ایجاد پایگاه داده در هرکجا پاتیتون
>     
>     در اینجا چیز دیگری است که بین کامپیوتر و سرور شما متفاوت است: از یک پایگاه داده متفاوت استفاده می کند. بنابراین حساب های کاربری و پست ها می توانند بر روی سرور و رایانه شما متفاوت باشند.
>     
>     همانطور که ما در کامپیوتر خودمان انجام دادیم، گام را برای مقداردهی اولیه پایگاه داده در سرور با "migrate" و "createuperuser" تکرار می کنیم:
>     
>     {٪ filename٪}} خط فرمان هرکجا پایتون{٪ endfilename٪}}
>     
> 
> (مای ون) $ پایتونمدیریت.py مهاجرت کنید عملیات انجام شده: [...]    اعمال بخشها.0001_initial... OK (مای ون) $ پایتون مدیریت.بدنبال ایجاد ناگهانی
> 
>     <br />## انتشار وبلاگ ما به عنوان یک برنامه وب
>     
>     حالا کد ما در هرکجا پایتون است، مجازی ما آماده است و پایگاه داده مقداردهی اولیه شده است. ما آماده انتشار آن به عنوان یک برنامه وب هستیم!
>     
>     با کلیک بر روی آرم خود، به صفحه داشبورد هرکجا پایتون ، سپس روی برگه ** وب** کلیک کنید. در نهایت، ضربه ** اضافه کردن یک برنامه وب جدید **.
>     
>     پس از تایید نام دامنه خود، ** تنظیمات دستی ** را انتخاب کنید (N.B. - * نه * گزینه "جنگجو") در گفتگو. بعد ** پایتون 3.6 ** را انتخاب کنید و برای پایان دادن به جادوگر روی ادامه کلیک کنید.
>     
>     & gt؛ ** توجه داشته باشید ** مطمئن شوید گزینه "پیکربندی دستی" را انتخاب کرده اید، نه "جنگجو". ما برای راه اندازی هرکجا پایتون جنگجو به طور پیش فرض خیلی خوشحالیم. ؛-)
>     
>     
>     ### تنظیم مجازی مجازی
>     
>     شما برای صفحه وب خود به صفحه پیکربندی هرکجا پایتون منتقل می شوید، که در آن شما باید هر زمان که بخواهید به برنامه در سرور تغییر دهید، بروید.
>     
>     <0 />
>     
>     در بخش "مجازی "، روی متن قرمز که می گوید "مسیر را به مجازی وارد کنید" را کلیک کنید، و وارد کنید "/ home / &lt;your-PythonAnywhere-username&gt; / اولین وبلاگ من / مای ون/`. قبل از حرکت به مسیر، مسیر جعبه آبی را با علامت گذاری کنید.
>     
>     & gt؛ ** توجه * نام کاربری هرکجا پایتون خود را به صورت مناسب جایگزین کنید. اگر اشتباهی کردید، هرکجا پایتون یک هشدار کوچک را به شما نشان می دهد.
>     
>     
>     ### پیکربندی فایل WSGI
>     
>     جانگو با استفاده از پروتکل WSGI، یک استاندارد برای خدمت به وب سایت ها با استفاده از پایتون، که هرکجا پایتون پشتیبانی می کند، کار می کند. نحوه پیکربندی هرکجا پایتون ما برای شناسایی وبلاگ ما با استفاده از جنگجو با ویرایش یک فایل پیکربندی WSGI است.
>     
>     بر روی پیوند "فایل پیکربندی WSGI" (در بخش "کد" در بالای صفحه کلیک کنید - آن را به نام `/var/www/&lt;your-PythonAnywhere-username&gt;_pythonanywhere_com_wsgi.py`), نامگذاری کنید) و شما خواهید بود گرفته شده به یک ویرایشگر.
>     
>     تمام مطالب را حذف کنید و آنها را با موارد زیر جایگزین کنید:
>     
>     {٪ filename٪} & amp؛ lt؛ your-username & amp؛ gt؛ _pythonanywhere_com_wsgi.py {٪ endfilename٪}
>     `` `پایتون
>     واردات os
>     واردات سیستم
>     
>     مسیر = os.مسیر.فرستنده ('~ / my-first-blog')
>     اگر مسیر در sys.path نیست:
>          sys.مسیر.اضافه کردن (مسیر)
>     
>     os.environ ['DJANGO_SETTINGS_MODULE'] = 'سایت من.موقعیت'
>     
>     از جنگجو.هسته.wsgi وارد گرفتن _wsgi_ابزارها
>     از جنگجو.contrib.staticfiles.هندلر واردات فایل مدیریت استاتیک
>     ابزارها = فایل مدیریت استاتیک (get_wsgi_application ())
>     
> 
> این کار این است که هرکجا پایتون را در جایی که برنامه وب ما زندگی می کند و نام پرونده تنظیمات جنگو است، بفرستیم.
> 
>  فایل مدیریت استاتیک </ 0> برای مقابله با CSS ما است. این فرمان <code> اجرا سرور </ 0> به طور خودکار برای شما در حین توسعه محلی مراقبت می شود. بعدا در مورد آموزش فایل های استاتیک کمی بیشتر توضیح خواهیم داد، وقتی CSS را برای سایت ما ویرایش میکنیم.</p>

<p>هیت <strong> ذخیره </ 0> و سپس به برگه <strong> وب </ 0> بروید.</p>

<p>همه ما انجام شده است! دکمه بزرگ سبز <strong> بارگیری مجدد </ 0> را فشار دهید و شما قادر به مشاهده برنامه خود خواهید بود. یک پیوند به آن در بالای صفحه پیدا خواهید کرد.</p>

<h2>نکات اشکال زدایی</h2>

<p>اگر هنگام تلاش برای بازدید از سایت خود خطایی را مشاهده کردید، اولین مکان برای جستجوی برخی از اطلاعات خطایابی در <strong> خطا در ورود </ 0> وجود دارد. پیوند این را در هرکجا پایتون <a href="https://www.pythonanywhere.com/web_app_setup/"> برگه وب </ 0> پیدا خواهید کرد. ببینید اگر پیام های خطا در آنجا وجود داشته باشد؛ آخرین آنها در پایین هستند. مشکلات رایج عبارتند از:</p>

<ul>
<li><p>فراموش کردن یکی از مراحل انجام شده در کنسول: ایجاد مجازی، فعال کردن آن، نصب کردن جانگو در آن، مهاجرت به پایگاه داده.</p></li>
<li><p>اشتباه در مسیر مجازی در برگه وب - معمولا یک پیام خطای قرمز کوچک وجود دارد، اگر یک مشکل وجود دارد.</p></li>
<li><p>اشتباه در فایل پیکربندی WSGI - آیا مسیر را به پوشه اولین وبلاگ من درست کردم؟</p></li>
<li><p>آیا همان نسخه پایتون را برای مجازی خود انتخاب کردید همانطور که برای برنامه وب خود انجام دادید؟ هر دو باید 3.6 باشد.</p></li>
</ul>

<p>همچنین برخی از نکات اشکال زدائی کلی <a href="https://www.pythonanywhere.com/wiki/DebuggingImportError"> در ویکی هرکجا پایتون </ 0> وجود دارد.</p>

<p>و به یاد داشته باشید، مربی شما برای کمک به اینجا است!</p>

<h1>تو زندگی میکنی!</h1>

<p>صفحه پیش فرض سایت شما باید بگوید "این کار کرده است!" درست همانطور که در رایانه محلی شماست. سعی کنید <code> / مدیر / </ 0> را به انتهای آدرس اینترنتی اضافه کنید و به سایت مدیریت برسید. با نام کاربری و رمز عبور وارد شوید و ببینید که می توانید پست های جدید را در سرور اضافه کنید.</p>

<p>هنگامی که چند پست ایجاد شده دارید می توانید به تنظیم محلی خود (نه هرکجا پایتون) بازگردید. از اینجا باید تنظیمات محلی خود را انجام دهید تا تغییرات ایجاد کنید. این یک گردش کار مشترک در توسعه وب است - تغییرات را به صورت محلی انجام دهید، این تغییرات را به گیت هاب فشار دهید و تغییرات خود را به سرور وب زنده خود بکشید. این به شما اجازه می دهد بدون شکستن وب سایت زنده خود کار کنید و آزمایش کنید. خیلی خن؟</p>

<p><em> بزرگ </ 0> خودت را در پشت بگذار! استقرار سرور یکی از پیچیده ترین قسمت های توسعه وب است و اغلب مردم چند روز قبل از اینکه کارشان را انجام دهند، آنها را می گیرد. اما شما سایت خود را در زندگی واقعی، در اینترنت واقعی، درست مثل این است!</p>